---
title: Libro de Inventarios y Balance
description: Guía para generar el Libro de Inventarios y Balance, un reporte jerárquico que detalla la situación financiera de la empresa por nivel de cuenta a fin de mes.
template: doc
sidebar:
  label: Libro Inventarios y Balance
lastUpdated: 2025-10-17
tableOfContents: false
---

import { Card, CardGrid, Aside, Steps } from '@astrojs/starlight/components';

Este reporte es un documento contable que detalla la situación financiera de la empresa al final de un ejercicio comercial o período específico (mes). Su característica principal es que presenta los saldos de las cuentas en una estructura jerárquica, mostrando el valor de cada cuenta en la columna que corresponde a su nivel contable (Clase, Grupo, Cuenta, Subcuenta, etc.).

## Acceso y Navegación

Para acceder a esta funcionalidad, sigue la siguiente ruta desde el menú principal del sistema. Se requieren permisos de acceso al módulo de contabilidad.

<Aside type="note" title="Ruta de Navegación">
  **Módulo Contabilidad** → **Reportes** → **Reportes Contabilidad** → **Libros Contables** → **Libro Inventarios y Balance**
</Aside>

![Vsta inicial del reporte Libro Inventarios y Balance](@assets/guias_usuarios/contabilidad/reportes/LibroInventariosyBalance/reportes_LibroInventariosyBalance_01.png)

## Funcionalidades Principales

La interfaz se divide en un panel de filtros para definir el período y el nivel de detalle, y una tabla de resultados con una estructura de niveles única.

### Panel de Filtros

<CardGrid>
    <Card title="Datos de la Empresa" icon="building">
        - **Centro de Costo**: Se asigna automáticamente según el centro de costo del usuario logueado.
        - **Razón Social**: Se rellena automáticamente con el nombre del centro de costo.
    </Card>
    <Card title="Filtros del Reporte" icon="calendar">
        - **Mes**: Campo **obligatorio** (1-12) para definir el mes de corte para el cual se generará el balance.
        - **Nivel del Libro (1-9)**: Campo **obligatorio** que define el nivel máximo de detalle de las cuentas a incluir en el reporte.
    </Card>
    <Card title="Personalización" icon="pencil">
        - **Título del Informe**: Permite cambiar el título que aparecerá en el reporte impreso. El valor por defecto es "LIBRO INVENTARIOS Y BALANCE".
    </Card>
</CardGrid>

### Barra de Acciones y Tabla de Resultados

-   **Botón `Generar`**: Ejecuta la consulta con el mes y nivel seleccionados y carga los saldos en la tabla.
-   **Botón `Imprimir`** <i class="fa fa-print"></i>: Abre una vista de impresión formateada del reporte, lista para imprimir o guardar como PDF.
-   **Opciones de Exportación**: La tabla de resultados incluye herramientas para descargar los datos en **Excel, CSV y TXT**.

### Estructura de la Tabla de Resultados

Esta tabla tiene un formato especial para mostrar la jerarquía contable:

-   **`CUENTA`**: Código de la cuenta contable.
-   **`NOMBRE`**: Nombre de la cuenta contable.
-   **Columnas de Nivel (total9 a total1)**: El reporte incluye 9 columnas, cada una representando un nivel contable (del Nivel 9, más detallado, al Nivel 1, más agrupado).

El saldo final de una cuenta solo aparecerá en la columna que corresponde a su nivel. Por ejemplo, una cuenta de **Nivel 4** (ej. 'Caja General') mostrará su saldo únicamente en la columna `total4`, mientras que las otras 8 columnas de nivel quedarán vacías para esa fila. Esto crea un efecto visual de "pirámide" o "escalera" que facilita la lectura de la jerarquía.

![Vsta inicial del reporte Libro Inventarios y Balance](@assets/guias_usuarios/contabilidad/reportes/LibroInventariosyBalance/reportes_LibroInventariosyBalance_02.png)

## Flujo de Uso Paso a Paso

<Steps>
1.  **Acceder al Módulo**
    Navega hasta la vista del **Libro Inventarios y Balance**. Los datos del Centro de Costo y Razón Social se cargarán automáticamente.

2.  **Configurar Filtros**
    - Selecciona el **Mes** de corte (ej. `12` para Diciembre).
    - Ajusta el **Nivel del Libro** (ej. `9` para el máximo detalle).
    - Modifica el **Título del Informe** si es necesario.

3.  **Generar el Reporte**
    Haz clic en el botón **`Generar`**. La tabla se llenará con los datos, mostrando los saldos de las cuentas en sus columnas de nivel correspondientes.

4.  **Analizar y Exportar**
    Revisa la información. Observa cómo los saldos se distribuyen en las columnas según su nivel contable.

5.  **Imprimir o Guardar**
    Utiliza el botón **`Imprimir`** para un PDF formal o las opciones de la tabla para **exportar** a Excel, CSV o TXT.
</Steps>

![Vsta inicial del reporte Libro Inventarios y Balance](@assets/guias_usuarios/contabilidad/reportes/LibroInventariosyBalance/reportes_LibroInventariosyBalance_03.png)

## Errores Comunes y Recomendaciones

<Aside type="caution" title="Campos Obligatorios">
- Para generar el reporte, es indispensable que completes los campos `Mes` y `Nivel del Libro`. El formulario no permitirá generar la consulta si están vacíos.
- El **Nivel del Libro** está limitado a un valor entre 1 y 9.
</Aside>

## Notas Técnicas

-   La funcionalidad de impresión (`Imprimir`) invoca un script del lado del servidor (`reporte_libroInventarios_Balance.php`) que genera un documento formateado con el título especificado.
-   La lógica de visualización de la tabla, calcula el saldo final de la cuenta y lo muestra solo en la columna que coincide con el nivel de dicha cuenta.
